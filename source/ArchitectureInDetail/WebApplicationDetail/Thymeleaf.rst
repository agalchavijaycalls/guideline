テンプレートエンジン(Thymeleaf)
================================================================================

.. only:: html

 .. contents:: 目次
    :depth: 3
    :local:


.. note:: **【骨子レビュー用の補足説明】**
  
  当節の構成を以下に示す。
  なお、当節では、[How to extend]に記載する「カスタムダイアレクトの作成」を除き、NTTコムウェア社のレポートに明示的に記載の無い内容を扱っている。
  
  * Overview       : Thymeleafの特徴を説明し、Webアプリケーションに適用する例を示す。
  * How to use     : ガイドラインが推奨するThymeleaf + Springの設定とその機能について説明する。
  * How to extend  : カスタムダイアレクトの追加法について説明する。
  * Appendix       : テンプレートキャッシュ機能について説明する。

Overview
--------------------------------------------------------------------------------

Thymeleafとは
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  ここでは、テンプレートエンジンとしてのThymeleafの特徴を説明し、Webアプリケーションに適用する例を示す。


Thymeleafの特性
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

.. note:: 

  以下のような特性を紹介する。
  
  * Thymeleafのテンプレートは、ブラウザでの静的描画が可能
  * テンプレートの解釈がAPサーバの機能に依存しない
  * HTML5との親和性を持つ記法


JSPとの比較
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. note:: 

  JSP/Thymeleafの強み・弱み、動作方式の差について説明する。
  
  # Thymeleafの特性がJSPが備えていないものなので、動作方式の差についても簡単に説明する予定。


標準機能の説明
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. note:: 

  静的HTMLファイルにThymeleafの機能を適用し、動的描画が可能なテンプレートを実装していく事をとおし、
  Thymeleafの主な機能を説明する。

Thymeleafテンプレートの実装
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

.. note:: 

  入力フォームを持った静的HTMLをThymeleafのテンプレートに変換し、
  動的に値を渡す実装、及びサーバ側の処理のコード例を記述する。
  加えて、標準機能で利用頻度の多いダイアレクトを簡単に解説する。

  # 主に、ガイドラインの「3.アプリケーション開発」で記述するThymeleafテンプレートで利用するダイアレクトを説明対象とする。
  処理の詳細説明については、「Thymeleaf + Spring の機能」に記述し、ここでは動的にHTMLを変更できる程度とする。


コメント文
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.. note:: 

  Thymeleafのテンプレートに記述可能な3種類のコメント文の各々の特性、及び利用場面を紹介する。


How to use
--------------------------------------------------------------------------------

アプリケーションの設定
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. note:: 

  ThymeleafをSpringMVCと連携して使用する為の設定の説明をする。


ブランクプロジェクトの設定
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

.. note:: 

  SpringMVCと組み合わせてThymeleafを使用する為のブランクプロジェクトの設定の説明をする。
  
  * pom.xml
  * web.xml
  * Bean定義ファイル（spring-mvc.xml, spring-security.xml）
  * Webコンテナが捕捉するエラーをハンドリングするControllerクラス


Thymeleaf + Spring  の機能
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. note:: 

  Thymeleaf + Spring  の機能の概要を説明する。
  アーキテクチャの概要図を記述し、「4.1.1.3.標準機能の説明」での実装例を通して、
  Springとの連携において、Springがカバーしている機能を説明する。
  

How to extend
--------------------------------------------------------------------------------

カスタムダイアレクトの追加
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. note:: 

  カスタムダイアレクトの追加について記述する。（骨子の見通しが悪くなる為、レビュー用に別ファイルに切り出している。）


Appendix
--------------------------------------------------------------------------------

テンプレートキャッシュの適用
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. note:: 

  テンプレートキャッシュ機能について述べる。

テンプレートキャッシュ機能の説明
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

.. note:: 

  テンプレートキャッシュの機構・方式について説明する。

アプリケーションの設定
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

.. note:: 

  テンプレートキャッシュを有効にする為の設定、各種パラメータの設定について記述する。
  
  # 今後キャッシュ機能を検証し、設定値による挙動の傾向が明らかに表れる場合は、APの特性に応じた推奨値を補足する予定。

